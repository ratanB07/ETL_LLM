<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GENFLOW - Out-of-the-box ML</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-box-and-violin-plot@3.7.0/build/Chart.BoxPlot.min.js"></script>
    <style>
        :root {
            --primary: #4f46e5;
            --primary-dark: #4338ca;
            --primary-light: #6366f1;
            --secondary: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
            --dark: #1e293b;
            --light: #f8fafc;
            --gray: #64748b;
            --gray-light: #e2e8f0;
            --success-bg: #ecfdf5;
            --error-bg: #fef2f2;
            --warning-bg: #fffbeb;
            --info-bg: #eff6ff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        body {
            background-color: #f8fafc;
            color: var(--dark);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header styles */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 10;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            background-color: black;
            border-radius: 8px;
            width: 36px;
            height: 36px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: var(--primary);
            font-size: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .logo-text {
            font-weight: 700;
            font-size: 22px;
            letter-spacing: 0.5px;
        }

        .header-title {
            font-size: 16px;
            font-weight: 500;
            opacity: 0.9;
            background: rgba(255, 255, 255, 0.1);
            padding: 6px 12px;
            border-radius: 20px;
        }

        /* Main content */
        .dashboard {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        /* Sidebar */
        .sidebar {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 20px;
            height: fit-content;
        }

        .sidebar-section {
            margin-bottom: 25px;
        }

        .sidebar-title {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--gray);
            margin-bottom: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
            color: var(--dark);
            border-radius: 6px;
            margin-bottom: 5px;
        }

        .sidebar-item:hover {
            background-color: var(--gray-light);
        }

        .sidebar-item.active {
            background-color: var(--primary-light);
            color: white;
        }

        .sidebar-item i {
            margin-right: 10px;
            font-size: 16px;
            width: 20px;
            text-align: center;
        }

        /* Main content area */
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* Panel styles */
        .panel {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--gray-light);
            overflow: hidden;
        }

        .panel-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--gray-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .panel-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .panel-title i {
            font-size: 20px;
            color: var(--primary);
        }

        .panel-actions {
            display: flex;
            gap: 10px;
        }

        .panel-body {
            padding: 20px;
        }

        /* Button styles */
        .button {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            height: 36px;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(79, 70, 229, 0.2);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(79, 70, 229, 0.3);
        }

        .button-secondary {
            background: white;
            color: var(--primary);
            border: 1px solid var(--gray-light);
            box-shadow: none;
        }

        .button-secondary:hover {
            background-color: #f1f5ff;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .button-danger {
            background: linear-gradient(135deg, var(--danger) 0%, #dc2626 100%);
        }

        .button-success {
            background: linear-gradient(135deg, var(--secondary) 0%, #059669 100%);
        }

        .button-warning {
            background: linear-gradient(135deg, var(--warning) 0%, #d97706 100%);
        }

        /* Stats grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--gray-light);
            transition: transform 0.2s;
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .stat-title {
            font-size: 13px;
            color: var(--gray);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
        }

        .stat-description {
            font-size: 12px;
            color: var(--gray);
            margin-top: 5px;
        }

        .stat-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: white;
            margin-bottom: 10px;
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--gray-light);
            margin-bottom: 20px;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            font-weight: 500;
            color: var(--gray);
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab:hover:not(.active) {
            color: var(--dark);
        }

        /* Chart containers */
        .chart-container {
            width: 100%;
            height: 300px;
            margin-bottom: 20px;
        }

        .chart-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        /* Model cards */
        .model-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
        }

        .model-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--gray-light);
            overflow: hidden;
            transition: all 0.2s;
        }

        .model-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .model-card-header {
            padding: 15px;
            border-bottom: 1px solid var(--gray-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .model-card-title {
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .model-card-body {
            padding: 15px;
        }

        .model-stat {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid var(--gray-light);
            font-size: 13px;
        }

        .model-stat:last-child {
            border-bottom: none;
        }

        .model-stat-label {
            color: var(--gray);
        }

        .model-stat-value {
            font-weight: 600;
        }

        .accuracy-high {
            color: var(--secondary);
        }

        .accuracy-medium {
            color: var(--warning);
        }

        .accuracy-low {
            color: var(--danger);
        }

        /* Data table */
        .data-table-container {
            overflow-x: auto;
            margin-bottom: 20px;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        .data-table th {
            background-color: #f8fafc;
            padding: 10px 12px;
            text-align: left;
            border: 1px solid var(--gray-light);
            font-weight: 600;
            color: var(--dark);
        }

        .data-table td {
            padding: 10px 12px;
            border: 1px solid var(--gray-light);
            color: var(--dark);
        }

        .data-table tr:nth-child(even) {
            background-color: #f8fafc;
        }

        /* Feature importance */
        .feature-importance {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feature-name {
            width: 200px;
            font-weight: 500;
        }

        .feature-bar-container {
            flex-grow: 1;
            height: 20px;
            background-color: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
        }

        .feature-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-light), var(--primary));
            border-radius: 10px;
        }

        .feature-value {
            width: 60px;
            text-align: right;
            font-family: monospace;
        }

        /* Confusion matrix */
        .confusion-matrix {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 2px;
            margin-top: 20px;
        }

        .matrix-cell {
            padding: 10px;
            text-align: center;
            font-weight: 500;
        }

        .matrix-header {
            background-color: #f8fafc;
            font-weight: 600;
        }

        .matrix-value {
            background-color: white;
        }

        .high-value {
            background-color: rgba(16, 185, 129, 0.2);
        }

        .medium-value {
            background-color: rgba(245, 158, 11, 0.2);
        }

        .low-value {
            background-color: rgba(239, 68, 68, 0.2);
        }

        /* Cluster visualization */
        .cluster-container {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .cluster-chart {
            flex: 1;
            height: 300px;
        }

        .cluster-info {
            width: 300px;
        }

        /* Loading state */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(79, 70, 229, 0.1);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                width: 100%;
            }
            
            .chart-row {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .model-cards {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .cluster-container {
                flex-direction: column;
            }
            
            .cluster-info {
                width: 100%;
            }
        }

        /* Animation for model cards */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .model-card {
            animation: fadeIn 0.3s ease-out;
        }

        /* Dark mode toggle */
        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--dark);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 100;
        }

        /* Dark mode styles */
        .dark {
            background-color: #1a202c;
            color: #f7fafc;
        }

        .dark .panel,
        .dark .sidebar,
        .dark .stat-card,
        .dark .model-card {
            background-color: #2d3748;
            border-color: #4a5568;
            color: #f7fafc;
        }

        .dark .panel-header,
        .dark .model-card-header {
            border-color: #4a5568;
        }

        .dark .data-table th,
        .dark .data-table tr:nth-child(even) {
            background-color: #2d3748;
        }

        .dark .data-table td {
            border-color: #4a5568;
            color: #f7fafc;
        }

        .dark .sidebar-title,
        .dark .stat-title,
        .dark .stat-description,
        .dark .model-stat-label,
        .dark .tab:not(.active) {
            color: #a0aec0;
        }

        .dark .dark-mode-toggle {
            background: #f7fafc;
            color: #1a202c;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">
            <div class="logo-icon">G</div>
            <div class="logo-text">GENFLOW</div>
        </div>
        <div class="header-title">Out-of-the-box ML</div>
    </div>

    <div class="container">
        <div class="dashboard">
            <div class="sidebar">
                <div class="sidebar-section">
                    <div class="sidebar-title">
                        <i class="fas fa-project-diagram"></i>
                        ML Tasks
                    </div>
                    <div class="sidebar-item active" data-tab="classification">
                        <i class="fas fa-tags"></i>
                        Classification
                    </div>
                    <div class="sidebar-item" data-tab="regression">
                        <i class="fas fa-chart-line"></i>
                        Regression
                    </div>
                    <div class="sidebar-item" data-tab="clustering">
                        <i class="fas fa-object-group"></i>
                        Clustering
                    </div>
                    <div class="sidebar-item" data-tab="anomaly">
                        <i class="fas fa-exclamation-triangle"></i>
                        Anomaly Detection
                    </div>
                    <div class="sidebar-item" data-tab="time-series">
                        <i class="fas fa-clock"></i>
                        Time Series
                    </div>
                    <div class="sidebar-item" data-tab="nlp">
                        <i class="fas fa-language"></i>
                        NLP
                    </div>
                </div>

                <div class="sidebar-section">
                    <div class="sidebar-title">
                        <i class="fas fa-sliders-h"></i>
                        Settings
                    </div>
                    <div class="sidebar-item">
                        <i class="fas fa-columns"></i>
                        Feature Selection
                    </div>
                    <div class="sidebar-item">
                        <i class="fas fa-tachometer-alt"></i>
                        Hyperparameters
                    </div>
                    <div class="sidebar-item">
                        <i class="fas fa-chart-pie"></i>
                        Evaluation Metrics
                    </div>
                </div>

                <div class="sidebar-section">
                    <div class="sidebar-title">
                        <i class="fas fa-database"></i>
                        Dataset Info
                    </div>
                    <div class="sidebar-item">
                        <i class="fas fa-info-circle"></i>
                        Dataset: <span id="dataset-name">customer_data.csv</span>
                    </div>
                    <div class="sidebar-item">
                        <i class="fas fa-table"></i>
                        Rows: <span id="dataset-rows">10,245</span>
                    </div>
                    <div class="sidebar-item">
                        <i class="fas fa-columns"></i>
                        Features: <span id="dataset-features">24</span>
                    </div>
                </div>
            </div>

            <div class="main-content">
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">
                            <i class="fas fa-tachometer-alt"></i>
                            Model Performance Dashboard
                        </div>
                        <div class="panel-actions">
                            <button class="button button-secondary">
                                <i class="fas fa-redo"></i>
                                Refresh
                            </button>
                            <button class="button button-success" id="run-analysis">
                                <i class="fas fa-play"></i>
                                Run Analysis
                            </button>
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon" style="background-color: var(--primary);">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <div class="stat-title">Best Model</div>
                                <div class="stat-value" id="best-model">Random Forest</div>
                                <div class="stat-description">Based on accuracy</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon" style="background-color: var(--secondary);">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="stat-title">Accuracy</div>
                                <div class="stat-value" id="model-accuracy">92.4%</div>
                                <div class="stat-description">Test set performance</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon" style="background-color: var(--info);">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="stat-title">Training Time</div>
                                <div class="stat-value" id="training-time">45s</div>
                                <div class="stat-description">For best model</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon" style="background-color: var(--warning);">
                                    <i class="fas fa-memory"></i>
                                </div>
                                <div class="stat-title">Model Size</div>
                                <div class="stat-value" id="model-size">3.2MB</div>
                                <div class="stat-description">Memory footprint</div>
                            </div>
                        </div>

                        <div class="tabs">
                            <div class="tab active" data-tab="summary">Summary</div>
                            <div class="tab" data-tab="feature-importance">Feature Importance</div>
                            <div class="tab" data-tab="confusion-matrix">Confusion Matrix</div>
                            <div class="tab" data-tab="clusters">Clusters</div>
                        </div>

                        <div id="summary-tab" class="tab-content active">
                            <div class="chart-row">
                                <div class="panel">
                                    <div class="panel-header">
                                        <div class="panel-title">
                                            <i class="fas fa-chart-line"></i>
                                            Model Comparison
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <div class="chart-container">
                                            <canvas id="modelComparisonChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel">
                                    <div class="panel-header">
                                        <div class="panel-title">
                                            <i class="fas fa-percentage"></i>
                                            Metrics Comparison
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <div class="chart-container">
                                            <canvas id="metricsComparisonChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="panel">
                                <div class="panel-header">
                                    <div class="panel-title">
                                        <i class="fas fa-table"></i>
                                        Model Details
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <div class="model-cards">
                                        <div class="model-card">
                                            <div class="model-card-header">
                                                <div class="model-card-title">
                                                    <i class="fas fa-tree" style="color: var(--secondary);"></i>
                                                    Random Forest
                                                </div>
                                                <div class="model-stat-value accuracy-high">94.2%</div>
                                            </div>
                                            <div class="model-card-body">
                                                <div class="model-stat">
                                                    <div class="model-stat-label">Precision</div>
                                                    <div class="model-stat-value">0.93</div>
                                                </div>
                                                <div class="model-stat">
                                                    <div class="model-stat-label">Recall</div>
                                                    <div class="model-stat-value">0.91</div>
                                                </div>
                                                <div class="model-stat">
                                                    <div class="model-stat-label">F1 Score</div>
                                                    <div class="model-stat-value">0.92</div>
                                                </div>
                                                <div class="model-stat">
                                                    <div class="model-stat-label">Training Time</div>
                                                    <div class="model-stat-value">32s</div>
                                                </div>
                                                <button class="button button-secondary" style="width: 100%; margin-top: 10px;">
                                                    <i class="fas fa-eye"></i>
                                                    View Details
                                                </button>
                                            </div>
                                        </div>

                                        <div class="model-card">
                                            <div class="model-card-header">
                                                <div class="model-card-title">
                                                    <i class="fas fa-project-diagram" style="color: var(--primary);"></i>
                                                    Neural Network
                                                </div>
                                                <div class="model-stat-value accuracy-high">92.8%</div>
                                            </div>
                                            <div class="model-card-body">
                                                <div class="model-stat">
                                                    <div class="model-stat-label">Precision</div>
                                                    <div class="model-stat-value">0.91</div>
                                                </div>
                                                <div class="model-stat">
                                                    <div class="model-stat-label">Recall</div>
                                                    <div class="model-stat-value">0.93</div>
                                                </div>
                                                <div class="model-stat">
                                                    <div class="model-stat-label">F1 Score</div>
                                                    <div class="model-stat-value">0.92</div>
                                                </div>
                                                <div class="model-stat">
                                                    <div class="model-stat-label">Training Time</div>
                                                    <div class="model-stat-value">1m 45s</div>
                                                </div>
                                                <button class="button button-secondary" style="width: 100%; margin-top: 10px;">
                                                    <i class="fas fa-eye"></i>
                                                    View Details
                                                </button>
                                            </div>
                                        </div>

                                        <div class="model-card">
                                            <div class="model-card-header">
                                                <div class="model-card-title">
                                                    <i class="fas fa-superscript" style="color: var(--info);"></i>
                                                    Logistic Regression
                                                </div>
                                                <div class="model-stat-value accuracy-medium">88.5%</div>
                                            </div>
                                            <div class="model-card-body">
                                                <div class="model-stat">
                                                    <div class="model-stat-label">Precision</div>
                                                    <div class="model-stat-value">0.87</div>
                                                </div>
                                                <div class="model-stat">
                                                    <div class="model-stat-label">Recall</div>
                                                    <div class="model-stat-value">0.89</div>
                                                </div>
                                                <div class="model-stat">
                                                    <div class="model-stat-label">F1 Score</div>
                                                    <div class="model-stat-value">0.88</div>
                                                </div>
                                                <div class="model-stat">
                                                    <div class="model-stat-label">Training Time</div>
                                                    <div class="model-stat-value">12s</div>
                                                </div>
                                                <button class="button button-secondary" style="width: 100%; margin-top: 10px;">
                                                    <i class="fas fa-eye"></i>
                                                    View Details
                                                </button>
                                            </div>
                                        </div>

                                        <div class="model-card">
                                            <div class="model-card-header">
                                                <div class="model-card-title">
                                                    <i class="fas fa-vector-square" style="color: var(--warning);"></i>
                                                    SVM
                                                </div>
                                                <div class="model-stat-value accuracy-medium">86.2%</div>
                                            </div>
                                            <div class="model-card-body">
                                                <div class="model-stat">
                                                    <div class="model-stat-label">Precision</div>
                                                    <div class="model-stat-value">0.85</div>
                                                </div>
                                                <div class="model-stat">
                                                    <div class="model-stat-label">Recall</div>
                                                    <div class="model-stat-value">0.86</div>
                                                </div>
                                                <div class="model-stat">
                                                    <div class="model-stat-label">F1 Score</div>
                                                    <div class="model-stat-value">0.85</div>
                                                </div>
                                                <div class="model-stat">
                                                    <div class="model-stat-label">Training Time</div>
                                                    <div class="model-stat-value">1m 12s</div>
                                                </div>
                                                <button class="button button-secondary" style="width: 100%; margin-top: 10px;">
                                                    <i class="fas fa-eye"></i>
                                                    View Details
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="feature-importance-tab" class="tab-content">
                            <div class="panel">
                                <div class="panel-header">
                                    <div class="panel-title">
                                        <i class="fas fa-star"></i>
                                        Feature Importance
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <div class="chart-container">
                                        <canvas id="featureImportanceChart"></canvas>
                                    </div>
                                    <div class="feature-importance">
                                        <div class="feature-item">
                                            <div class="feature-name">Total_Spend</div>
                                            <div class="feature-bar-container">
                                                <div class="feature-bar" style="width: 95%"></div>
                                            </div>
                                            <div class="feature-value">0.95</div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-name">Purchase_Frequency</div>
                                            <div class="feature-bar-container">
                                                <div class="feature-bar" style="width: 82%"></div>
                                            </div>
                                            <div class="feature-value">0.82</div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-name">Avg_Order_Value</div>
                                            <div class="feature-bar-container">
                                                <div class="feature-bar" style="width: 78%"></div>
                                            </div>
                                            <div class="feature-value">0.78</div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-name">Days_Since_Last_Purchase</div>
                                            <div class="feature-bar-container">
                                                <div class="feature-bar" style="width: 65%"></div>
                                            </div>
                                            <div class="feature-value">0.65</div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-name">Customer_Age</div>
                                            <div class="feature-bar-container">
                                                <div class="feature-bar" style="width: 52%"></div>
                                            </div>
                                            <div class="feature-value">0.52</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="confusion-matrix-tab" class="tab-content">
                            <div class="panel">
                                <div class="panel-header">
                                    <div class="panel-title">
                                        <i class="fas fa-th"></i>
                                        Confusion Matrix
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <div class="chart-container">
                                        <canvas id="confusionMatrixChart"></canvas>
                                    </div>
                                    <div class="confusion-matrix">
                                        <div class="matrix-cell matrix-header"></div>
                                        <div class="matrix-cell matrix-header">Predicted: Low</div>
                                        <div class="matrix-cell matrix-header">Predicted: Medium</div>
                                        <div class="matrix-cell matrix-header">Predicted: High</div>
                                        <div class="matrix-cell matrix-header">Predicted: VIP</div>
                                        
                                        <div class="matrix-cell matrix-header">Actual: Low</div>
                                        <div class="matrix-cell matrix-value high-value">856</div>
                                        <div class="matrix-cell matrix-value medium-value">42</div>
                                        <div class="matrix-cell matrix-value low-value">12</div>
                                        <div class="matrix-cell matrix-value low-value">2</div>
                                        
                                        <div class="matrix-cell matrix-header">Actual: Medium</div>
                                        <div class="matrix-cell matrix-value medium-value">38</div>
                                        <div class="matrix-cell matrix-value high-value">723</div>
                                        <div class="matrix-cell matrix-value medium-value">56</div>
                                        <div class="matrix-cell matrix-value low-value">5</div>
                                        
                                        <div class="matrix-cell matrix-header">Actual: High</div>
                                        <div class="matrix-cell matrix-value low-value">15</div>
                                        <div class="matrix-cell matrix-value medium-value">49</div>
                                        <div class="matrix-cell matrix-value high-value">689</div>
                                        <div class="matrix-cell matrix-value medium-value">32</div>
                                        
                                        <div class="matrix-cell matrix-header">Actual: VIP</div>
                                        <div class="matrix-cell matrix-value low-value">3</div>
                                        <div class="matrix-cell matrix-value low-value">8</div>
                                        <div class="matrix-cell matrix-value medium-value">28</div>
                                        <div class="matrix-cell matrix-value high-value">245</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="clusters-tab" class="tab-content">
                            <div class="panel">
                                <div class="panel-header">
                                    <div class="panel-title">
                                        <i class="fas fa-object-group"></i>
                                        Cluster Analysis
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <div class="cluster-container">
                                        <div class="cluster-chart">
                                            <canvas id="clusterChart"></canvas>
                                        </div>
                                        <div class="cluster-info">
                                            <div class="panel">
                                                <div class="panel-header">
                                                    <div class="panel-title">
                                                        <i class="fas fa-info-circle"></i>
                                                        Cluster Details
                                                    </div>
                                                </div>
                                                <div class="panel-body">
                                                    <div class="model-stat">
                                                        <div class="model-stat-label">Optimal Clusters</div>
                                                        <div class="model-stat-value">4</div>
                                                    </div>
                                                    <div class="model-stat">
                                                        <div class="model-stat-label">Silhouette Score</div>
                                                        <div class="model-stat-value">0.72</div>
                                                    </div>
                                                    <div class="model-stat">
                                                        <div class="model-stat-label">Cluster Sizes</div>
                                                        <div class="model-stat-value">[1250, 980, 750, 520]</div>
                                                    </div>
                                                    <div class="model-stat">
                                                        <div class="model-stat-label">Algorithm</div>
                                                        <div class="model-stat-value">K-Means</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-title">
                            <i class="fas fa-table"></i>
                            Sample Predictions
                        </div>
                        <div class="panel-actions">
                            <button class="button button-secondary">
                                <i class="fas fa-download"></i>
                                Export
                            </button>
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="data-table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Customer ID</th>
                                        <th>Total Spend</th>
                                        <th>Frequency</th>
                                        <th>Avg Value</th>
                                        <th>Actual Class</th>
                                        <th>Predicted Class</th>
                                        <th>Confidence</th>
                                        <th>Correct?</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>CUST-1001</td>
                                        <td>$1,245</td>
                                        <td>12</td>
                                        <td>$103.75</td>
                                        <td>Medium</td>
                                        <td>Medium</td>
                                        <td>92%</td>
                                        <td><i class="fas fa-check" style="color: var(--secondary);"></i></td>
                                    </tr>
                                    <tr>
                                        <td>CUST-1002</td>
                                        <td>$2,850</td>
                                        <td>8</td>
                                        <td>$356.25</td>
                                        <td>High</td>
                                        <td>High</td>
                                        <td>89%</td>
                                        <td><i class="fas fa-check" style="color: var(--secondary);"></i></td>
                                    </tr>
                                    <tr>
                                        <td>CUST-1003</td>
                                        <td>$450</td>
                                        <td>3</td>
                                        <td>$150.00</td>
                                        <td>Low</td>
                                        <td>Low</td>
                                        <td>95%</td>
                                        <td><i class="fas fa-check" style="color: var(--secondary);"></i></td>
                                    </tr>
                                    <tr>
                                        <td>CUST-1004</td>
                                        <td>$5,200</td>
                                        <td>15</td>
                                        <td>$346.67</td>
                                        <td>VIP</td>
                                        <td>High</td>
                                        <td>78%</td>
                                        <td><i class="fas fa-times" style="color: var(--danger);"></i></td>
                                    </tr>
                                    <tr>
                                        <td>CUST-1005</td>
                                        <td>$780</td>
                                        <td>6</td>
                                        <td>$130.00</td>
                                        <td>Low</td>
                                        <td>Medium</td>
                                        <td>65%</td>
                                        <td><i class="fas fa-times" style="color: var(--danger);"></i></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="dark-mode-toggle" id="dark-mode-toggle">
        <i class="fas fa-moon"></i>
    </div>

    <script>
        // Initialize charts
        document.addEventListener('DOMContentLoaded', function() {
            // Get data from parent window
            const urlParams = new URLSearchParams(window.location.search);
            const datasetName = urlParams.get('dataset') || 'customer_data.csv';
            document.getElementById('dataset-name').textContent = datasetName;

            // Initialize charts
            initModelComparisonChart();
            initMetricsComparisonChart();
            initFeatureImportanceChart();
            initConfusionMatrixChart();
            initClusterChart();

            // Tab switching
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    // Handle sidebar tabs
                    if (this.closest('.sidebar-item')) {
                        document.querySelectorAll('.sidebar-item').forEach(item => {
                            item.classList.remove('active');
                        });
                        this.classList.add('active');
                        return;
                    }

                    // Handle content tabs
                    document.querySelectorAll('.tab').forEach(t => {
                        t.classList.remove('active');
                    });
                    this.classList.add('active');

                    const tabId = this.getAttribute('data-tab');
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                });
            });

            // Run analysis button
            document.getElementById('run-analysis').addEventListener('click', function() {
                runMLAnalysis();
            });

            // Dark mode toggle
            document.getElementById('dark-mode-toggle').addEventListener('click', function() {
                document.body.classList.toggle('dark');
                const icon = this.querySelector('i');
                if (document.body.classList.contains('dark')) {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                } else {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                }
            });
        });

        function runMLAnalysis() {
            // Show loading state
            const runButton = document.getElementById('run-analysis');
            const originalText = runButton.innerHTML;
            runButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analyzing...';
            runButton.disabled = true;

            // Simulate analysis (in a real app, this would be an API call)
            setTimeout(() => {
                // Update results
                document.getElementById('best-model').textContent = 'Gradient Boosting';
                document.getElementById('model-accuracy').textContent = '94.7%';
                document.getElementById('training-time').textContent = '38s';
                document.getElementById('model-size').textContent = '4.1MB';

                // Update charts
                updateModelComparisonChart();
                updateMetricsComparisonChart();
                updateFeatureImportanceChart();
                updateConfusionMatrixChart();
                updateClusterChart();

                // Restore button
                runButton.innerHTML = originalText;
                runButton.disabled = false;

                // Show success notification
                showNotification('Analysis Complete', 'Machine learning analysis completed successfully!', 'success');
            }, 3000);
        }

        function initModelComparisonChart() {
            const ctx = document.getElementById('modelComparisonChart').getContext('2d');
            window.modelComparisonChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Random Forest', 'Neural Network', 'Logistic Regression', 'SVM'],
                    datasets: [{
                        label: 'Accuracy',
                        data: [0.924, 0.928, 0.885, 0.862],
                        backgroundColor: [
                            'rgba(79, 70, 229, 0.7)',
                            'rgba(59, 130, 246, 0.7)',
                            'rgba(16, 185, 129, 0.7)',
                            'rgba(245, 158, 11, 0.7)'
                        ],
                        borderColor: [
                            'rgba(79, 70, 229, 1)',
                            'rgba(59, 130, 246, 1)',
                            'rgba(16, 185, 129, 1)',
                            'rgba(245, 158, 11, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1.0,
                            ticks: {
                                callback: function(value) {
                                    return (value * 100).toFixed(0) + '%';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return (context.raw * 100).toFixed(1) + '% accuracy';
                                }
                            }
                        }
                    }
                }
            });
        }

        function initMetricsComparisonChart() {
            const ctx = document.getElementById('metricsComparisonChart').getContext('2d');
            window.metricsComparisonChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Accuracy', 'Precision', 'Recall', 'F1 Score', 'Speed', 'Interpretability'],
                    datasets: [
                        {
                            label: 'Random Forest',
                            data: [0.92, 0.91, 0.93, 0.92, 0.85, 0.75],
                            backgroundColor: 'rgba(79, 70, 229, 0.2)',
                            borderColor: 'rgba(79, 70, 229, 1)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(79, 70, 229, 1)'
                        },
                        {
                            label: 'Neural Network',
                            data: [0.93, 0.92, 0.94, 0.93, 0.65, 0.35],
                            backgroundColor: 'rgba(59, 130, 246, 0.2)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(59, 130, 246, 1)'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                display: true
                            },
                            suggestedMin: 0,
                            suggestedMax: 1
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    }
                }
            });
        }

        function initFeatureImportanceChart() {
            const ctx = document.getElementById('featureImportanceChart').getContext('2d');
            window.featureImportanceChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Total_Spend', 'Purchase_Freq', 'Avg_Order', 'Days_Since', 'Customer_Age', 'Region', 'Device', 'Gender'],
                    datasets: [{
                        label: 'Feature Importance',
                        data: [0.95, 0.82, 0.78, 0.65, 0.52, 0.35, 0.28, 0.15],
                        backgroundColor: 'rgba(79, 70, 229, 0.7)',
                        borderColor: 'rgba(79, 70, 229, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 1.0
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        function initConfusionMatrixChart() {
            const ctx = document.getElementById('confusionMatrixChart').getContext('2d');
            window.confusionMatrixChart = new Chart(ctx, {
                type: 'matrix',
                data: {
                    datasets: [{
                        label: 'Confusion Matrix',
                        data: [
                            {x: 'Low', y: 'Low', v: 856},
                            {x: 'Medium', y: 'Low', v: 42},
                            {x: 'High', y: 'Low', v: 12},
                            {x: 'VIP', y: 'Low', v: 2},
                            {x: 'Low', y: 'Medium', v: 38},
                            {x: 'Medium', y: 'Medium', v: 723},
                            {x: 'High', y: 'Medium', v: 56},
                            {x: 'VIP', y: 'Medium', v: 5},
                            {x: 'Low', y: 'High', v: 15},
                            {x: 'Medium', y: 'High', v: 49},
                            {x: 'High', y: 'High', v: 689},
                            {x: 'VIP', y: 'High', v: 32},
                            {x: 'Low', y: 'VIP', v: 3},
                            {x: 'Medium', y: 'VIP', v: 8},
                            {x: 'High', y: 'VIP', v: 28},
                            {x: 'VIP', y: 'VIP', v: 245}
                        ],
                        backgroundColor: function(context) {
                            const value = context.dataset.data[context.dataIndex].v;
                            const max = 900;
                            const alpha = value / max;
                            return `rgba(79, 70, 229, ${alpha})`;
                        },
                        borderColor: 'rgba(79, 70, 229, 0.8)',
                        borderWidth: 1,
                        width: ({chart}) => (chart.chartArea.width) / 4 - 1,
                        height: ({chart}) => (chart.chartArea.height) / 4 - 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                title: function() {
                                    return '';
                                },
                                label: function(context) {
                                    const data = context.dataset.data[context.dataIndex];
                                    return `Actual: ${data.y}, Predicted: ${data.x}\nCount: ${data.v}`;
                                }
                            }
                        },
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            type: 'category',
                            offset: true,
                            grid: {
                                display: false
                            }
                        },
                        y: {
                            type: 'category',
                            offset: true,
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        function initClusterChart() {
            const ctx = document.getElementById('clusterChart').getContext('2d');
            
            // Generate sample cluster data
            const clusterData = [];
            const colors = ['#4f46e5', '#10b981', '#f59e0b', '#ef4444'];
            
            for (let i = 0; i < 4; i++) {
                for (let j = 0; j < 50; j++) {
                    const x = Math.random() * 3 + i * 2.5;
                    const y = Math.random() * 3 + i * 2.5;
                    clusterData.push({
                        x: x + (Math.random() - 0.5),
                        y: y + (Math.random() - 0.5),
                        r: 5,
                        cluster: i
                    });
                }
            }
            
            window.clusterChart = new Chart(ctx, {
                type: 'bubble',
                data: {
                    datasets: clusterData.map((_, i) => {
                        const cluster = clusterData[i].cluster;
                        return {
                            label: `Cluster ${cluster + 1}`,
                            data: clusterData.filter(d => d.cluster === cluster),
                            backgroundColor: colors[cluster],
                            borderColor: Chart.helpers.color(colors[cluster]).darken(0.2).rgbString(),
                            borderWidth: 1
                        };
                    })
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Feature 1 (PCA)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Feature 2 (PCA)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'right'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Cluster ${context.datasetIndex + 1}`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function updateModelComparisonChart() {
            const newData = [0.947, 0.938, 0.902, 0.881];
            window.modelComparisonChart.data.datasets[0].data = newData;
            window.modelComparisonChart.update();
        }

        function updateMetricsComparisonChart() {
            window.metricsComparisonChart.data.datasets[0].data = [0.94, 0.93, 0.95, 0.94, 0.88, 0.78];
            window.metricsComparisonChart.data.datasets[1].data = [0.93, 0.92, 0.94, 0.93, 0.65, 0.35];
            window.metricsComparisonChart.update();
        }

        function updateFeatureImportanceChart() {
            const newData = [0.98, 0.85, 0.81, 0.72, 0.55, 0.42, 0.31, 0.18];
            window.featureImportanceChart.data.datasets[0].data = newData;
            window.featureImportanceChart.update();
        }

        function updateConfusionMatrixChart() {
            const newData = [
                {x: 'Low', y: 'Low', v: 892},
                {x: 'Medium', y: 'Low', v: 35},
                {x: 'High', y: 'Low', v: 8},
                {x: 'VIP', y: 'Low', v: 1},
                {x: 'Low', y: 'Medium', v: 28},
                {x: 'Medium', y: 'Medium', v: 758},
                {x: 'High', y: 'Medium', v: 42},
                {x: 'VIP', y: 'Medium', v: 3},
                {x: 'Low', y: 'High', v: 12},
                {x: 'Medium', y: 'High', v: 38},
                {x: 'High', y: 'High', v: 712},
                {x: 'VIP', y: 'High', v: 25},
                {x: 'Low', y: 'VIP', v: 2},
                {x: 'Medium', y: 'VIP', v: 5},
                {x: 'High', y: 'VIP', v: 22},
                {x: 'VIP', y: 'VIP', v: 268}
            ];
            window.confusionMatrixChart.data.datasets[0].data = newData;
            window.confusionMatrixChart.update();
        }

        function updateClusterChart() {
            // In a real app, this would update with new cluster data
            window.clusterChart.update();
        }

        function showNotification(title, message, type) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background-color: white;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                padding: 16px;
                max-width: 300px;
                display: flex;
                gap: 12px;
                z-index: 1000;
                transform: translateY(20px);
                opacity: 0;
                transition: all 0.3s ease;
            `;
            
            let icon = '';
            let iconColor = '';
            switch(type) {
                case 'success':
                    icon = 'check-circle';
                    iconColor = '#10b981';
                    break;
                case 'error':
                    icon = 'exclamation-circle';
                    iconColor = '#ef4444';
                    break;
                case 'warning':
                    icon = 'exclamation-triangle';
                    iconColor = '#f59e0b';
                    break;
                default:
                    icon = 'info-circle';
                    iconColor = '#3b82f6';
            }
            
            notification.innerHTML = `
                <div style="color: ${iconColor}; font-size: 20px;">
                    <i class="fas fa-${icon}"></i>
                </div>
                <div>
                    <div style="font-weight: 600; margin-bottom: 4px;">${title}</div>
                    <div style="font-size: 14px; color: #64748b;">${message}</div>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transform = 'translateY(0)';
                notification.style.opacity = '1';
            }, 10);
            
            setTimeout(() => {
                notification.style.transform = 'translateY(20px)';
                notification.style.opacity = '0';
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 5000);
        }
    </script>
</body>
</html>